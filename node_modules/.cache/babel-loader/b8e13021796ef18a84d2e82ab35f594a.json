{"ast":null,"code":"//import {BASE_URL, API_KEY} from './configAPI.js';\nconst EdamamSource = {\n  apiCall(params) {\n    function handleHTTPError(response) {\n      if (response.ok) return response;\n      throw Error(response.statusText);\n    }\n\n    ;\n    return fetch(\"https://edamam-food-and-grocery-database.p.rapidapi.com/parser\" + params, {\n      \"method\": \"GET\",\n      \"headers\": {\n        \"x-rapidapi-key\": \"e3fb1e3aadmsh4f34f41abb8fda6p1bda2bjsn84fb0868770f\",\n        \"x-rapidapi-host\": \"edamam-food-and-grocery-database.p.rapidapi.com\"\n      }\n    }).then(handleHTTPError) // from headers to response data\n    .then(response => response.json()).catch(console.error);\n  },\n\n  searchIngredient(query) {\n    if (query === \"\") {\n      //to prevent error from happening while setting the promise\n      return null;\n    }\n\n    const trimQuery = query.replace(/\\s/g, '%20'); // replace space with %20\n\n    const paramsString = \"?\" + (query === undefined ? \"\" : \"ingr=\" + trimQuery);\n    return this.apiCall(paramsString) //data.parsed[0].food) \n    .then(data => data.parsed[0].food); // leave out the unimportant parts of the response data\n  }\n\n};\nexport default EdamamSource;","map":{"version":3,"sources":["C:/Users/acequ/Documents/DH2642/iprog_project/src/API/edamamAPI.js"],"names":["EdamamSource","apiCall","params","handleHTTPError","response","ok","Error","statusText","fetch","then","json","catch","console","error","searchIngredient","query","trimQuery","replace","paramsString","undefined","data","parsed","food"],"mappings":"AACA;AACA,MAAMA,YAAY,GAAC;AACfC,EAAAA,OAAO,CAACC,MAAD,EAAS;AACZ,aAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAC/B,UAAGA,QAAQ,CAACC,EAAZ,EACG,OAAOD,QAAP;AACH,YAAME,KAAK,CAACF,QAAQ,CAACG,UAAV,CAAX;AACD;;AAAA;AAED,WAAOC,KAAK,CAAC,mEAAkEN,MAAnE,EAA2E;AACrF,gBAAU,KAD2E;AAErF,iBAAW;AACX,0BAAkB,oDADP;AAEX,2BAAmB;AAFR;AAF0E,KAA3E,CAAL,CAMTO,IANS,CAMJN,eANI,EAQb;AARa,KASZM,IATY,CASPL,QAAQ,IAAIA,QAAQ,CAACM,IAAT,EATL,EASsBC,KATtB,CAS4BC,OAAO,CAACC,KATpC,CAAP;AAUL,GAlBc;;AAoBfC,EAAAA,gBAAgB,CAACC,KAAD,EAAQ;AACpB,QAAGA,KAAK,KAAK,EAAb,EAAgB;AAAG;AACf,aAAO,IAAP;AACH;;AACD,UAAMC,SAAS,GAAGD,KAAK,CAACE,OAAN,CAAc,KAAd,EAAqB,KAArB,CAAlB,CAJoB,CAI2B;;AAC/C,UAAMC,YAAY,GAAG,OACpBH,KAAK,KAAKI,SAAV,GAAsB,EAAtB,GAA2B,UAAUH,SADjB,CAArB;AAGD,WAAO,KAAKf,OAAL,CAAaiB,YAAb,EACP;AADO,KAELT,IAFK,CAEAW,IAAI,IAAIA,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAeC,IAFvB,CAAP,CARqB,CAUsB;AAE7C;;AAhCc,CAAnB;AAoCA,eAAetB,YAAf","sourcesContent":["\r\n//import {BASE_URL, API_KEY} from './configAPI.js';\r\nconst EdamamSource={\r\n    apiCall(params) {\r\n        function handleHTTPError(response) {\r\n            if(response.ok)\r\n               return response;\r\n            throw Error(response.statusText);\r\n          };\r\n          \r\n          return fetch(\"https://edamam-food-and-grocery-database.p.rapidapi.com/parser\"+ params, {\r\n            \"method\": \"GET\",\r\n            \"headers\": {\r\n            \"x-rapidapi-key\": \"e3fb1e3aadmsh4f34f41abb8fda6p1bda2bjsn84fb0868770f\",\r\n            \"x-rapidapi-host\": \"edamam-food-and-grocery-database.p.rapidapi.com\"\r\n          }\r\n     }).then(handleHTTPError)\r\n     \r\n    // from headers to response data\r\n    .then(response => response.json()).catch(console.error);  \r\n    }\r\n    ,    \r\n    searchIngredient(query) { \r\n        if(query === \"\"){  //to prevent error from happening while setting the promise\r\n            return null\r\n        }\r\n        const trimQuery = query.replace(/\\s/g, '%20'); // replace space with %20\r\n        const paramsString = \"?\" + \r\n        (query === undefined ? \"\" : \"ingr=\" + trimQuery);\r\n\r\n       return this.apiCall(paramsString) \r\n       //data.parsed[0].food) \r\n        .then(data => data.parsed[0].food);       // leave out the unimportant parts of the response data\r\n     \r\n    }\r\n    \r\n }; \r\n \r\nexport default EdamamSource;"]},"metadata":{},"sourceType":"module"}